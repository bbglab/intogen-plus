Bootstrap: docker
From: alpine:3.16

%environment
    export LC_ALL=C.UTF-8
    
%runscript
    exec "/bin/sh" "/hotmaps/hotmaps.sh" "$@"

%setup
    mkdir ${SINGULARITY_ROOTFS}/hotmaps
    cp -r scripts ${SINGULARITY_ROOTFS}/hotmaps/
    cp hotmaps.sh ${SINGULARITY_ROOTFS}/hotmaps/
    chmod -R a+r,a+x ${SINGULARITY_ROOTFS}/hotmaps/

%post
    apk add --no-cache python3-dev py-pip py-curl zlib-dev make ncurses-dev g++ bash procps
    pip --no-cache-dir install numpy==1.21.6 
    pip --no-cache-dir install pandas==1.3.5 tqdm bgreference biopython==1.79 pyliftover
